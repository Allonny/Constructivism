#!/bin/bash

notify_title="–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ –õ–ì–ë–¢ —ç–∫—Å—Ç—Ä–µ–º–∏–∑–º–æ–º üè≥Ô∏è‚Äçüåà"
notify_body="–î–Ω–µ–π —Å –ø—Ä–∏–∑–Ω–∞–Ω–∏—è \"–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –õ–ì–ë–¢\" —ç–∫—Å—Ç—Ä–µ–º–∏—Å—Ç—Å–∫–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –≤–µ—Ä—Ö–æ–≤–Ω—ã–º —Å—É–¥–æ–º –†–§: "
notify_icon="dialog-error"
notify_urgent="normal"

notify_name="${0##*/}"
notify_id=$(cat "$HOME/.local/scripts/notify-ids" | grep -oP "$notify_name \K([\d]+)" || echo 0)

days_from()
{
    echo $(( ($(date +%s) - $(date -d $1 +%s)) / (60 * 60 * 24) ))
}

antiLGBTlaw_date=20231130

days=$(days_from $antiLGBTlaw_date)

notify-send -a "$notify_name" -r "$notify_id" -u "$notify_urgent" -i "$notify_icon" "$notify_title" "$notify_body$days"
